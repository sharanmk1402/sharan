SELECT * FROM candidate WHERE CAN_ID IN(SELECT CAN_ID FROM contest CT, constituency CS WHERE CT.CONST_ID=CS.CONST_ID GROUP BY CAN_ID HAVING COUNT(DISTINCT(STATE))>1);
---------------------------------
SELECT STATE FROM constituency GROUP BY STATE HAVING COUNT(*)=(SELECT MAX(STATE_COUNT) FROM(SELECT COUNT(*) AS STATE_COUNT FROM constituency GROUP BY STATE) AS X);
-------------------------------
CREATE OR REPLACE PROCEDURE CHECKAGE(ID IN NUMBER,AGE IN NUMBER) AS
BEGIN
IF AGE>=18 THEN
INSERT INTO VOTERS(VOTER_ID,AGE)VALUES(ID,AGE); ELSE
DBMS_OUTPUT.PUT_LINE('NOT AN ELIGIBLE VOTER'); END IF;
END;
INSERT INTO VOTERS VALUES(10,’RAZAK’,12,’DHARWAD’,1);
INSERT INTO VOTERS VALUES(60,’RAZAK’,21,’DHARWAD’,1);
----------------------------
DELIMITER $$

CREATE PROCEDURE GETNUMBEROFVOTERS(IN CONSTITUENCY_NAME VARCHAR(255))
BEGIN
    DECLARE TOTAL_VOTERS INT;
    SELECT COUNT(*) INTO TOTAL_VOTERS
    FROM VOTER
    WHERE C_IDB IN (SELECT C_IDB FROM CONSTITUENCY WHERE C_NAME = CONSTITUENCY_NAME);      
    SELECT TOTAL_VOTERS AS NUMBER_OF_VOTERS;
END$$

DELIMITER ;

CALL GETNUMBEROFVOTERS(‘DHARWAD’);
----------------------------------
DELIMITER $$

CREATE TRIGGER UPDATE_VOTER_COUNT_AFTER_INSERT
AFTER INSERT ON VOTER
FOR EACH ROW
BEGIN
    -- UPDATE THE "NUM_VOTERS" FIELD IN THE "CONSTITUENCY" TABLE
    UPDATE CONSTITUENCY
    SET NO_OF_VOTERS = NO_OF_VOTERS + 1
    WHERE C_ID = NEW.C_ID;
END$$

DELIMITER ;
INSERT INTO VOTER VALUES(80,’NITIN’,23,’MALGI’,1);
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

1	SELECT STATE FROM places GROUP BY STATE HAVING COUNT(*) = ( SELECT MAX(COUNTS) FROM 
( SELECT COUNT(*) AS COUNTS FROM PLACES GROUP BY STATE ) AS COUNTER ); 
--------------------------------
2	SELECT * FROM places  WHERE P_ID IN ( SELECT P_ID FROM  GROUP BY P_ID HAVING COUNT(*) = ( SELECT MAX(PLACE_COUNT) FROM ( SELECT COUNT(*) AS PLACE_COUNT FROM  GROUP BY P_ID ) AS SUBQUERY ) );
	------------------------------
	3 3.	SELECTT.* FROM  visits V, places  P, tourist T WHERE V.P_ID = P.P_ID AND V.T_ID = T.T_ID AND STATE = 'KARNATAKA' GROUP BY T.T_NAME, AGE, COUNTRY HAVING COUNT(DISTINCT V.P_ID) = ( SELECT COUNT(*) FROM places WHERE STATE = 'KARNATAKA');
-------------------------------
4.	SELECT T.NAME, AGE, COUNTRY FROM  visits V, places  P, tourist  T WHERE V.P_ID = P.P_ID AND V.T_ID = T.T_ID GROUP BY T.NAME, AGE, COUNTRY HAVING COUNT(DISTINCT STATE) = (SELECT COUNT(DISTINCT STATE) FROM places);
-------------------------------
5.	SELECT P.P_NAME, KM, HISTORY FROM  V, places  P, tourist  T WHERE V.P_ID = P.P_ID AND V.T_ID = T.T_ID GROUP BY P.P_NAME, KM, HISTORY HAVING COUNT(DISTINCT COUNTRY) = (SELECT COUNT(DISTINCT COUNTRY) FROM tourist);



